{% comment %}
  Breadcrumb component

  **Note:** The component includes changes specifically for zebra testing that diverge from the default component. These are under the "control" sections. Otherwise it will use default breadcrumb settings. Modifications from USWDS pull request:
  USWDS - Breadcrumb: Make current page keyboard focusable #6148

  Used in zebra testing layout: `src/_layouts/zebra.html`.
{% endcomment %}

{% assign link_aria_label = link_aria-_label | default: "Breadcrumb link" %}

<nav class="usa-breadcrumb usa-breadcrumb--wrap" aria-label="Breadcrumbs">
  <ol class="usa-breadcrumb__list">
    <li class="usa-breadcrumb__list-item">
      <a
        href=""
        class="usa-breadcrumb__link"
        {% if control_group %}
          aria-label="{{ link_aria_label | append: ' Home' | capitalize }}"
        {% endif %}>
        <span>Home</span>
      </a>
    </li>


    <!-- Autogenerated links from frontmatter. -->
    {% for item in breadcrumb.items %}

      <!-- Use item link by default and empty string if current. -->
      {% if not item.current %}
        {% assign breadcrumb_href = item.link | default: 'javascript:void(0)' %}
      {% else %}
        {% assign breadcrumb_href = '' %}
      {% endif %}

      <li class="usa-breadcrumb__list-item {% if item.current %}usa-current{% endif %}" {% if item.current not control_group %}aria-current="page"{% endif %}>
        {% if control_group %}
          <a
              href="{{ breadcrumb_href }}"
              class="usa-breadcrumb__link"
              {% if item.current %}
                aria-current="page"
                style="color: inherit; text-decoration: none;"
              {% endif %}
            aria-label="{{ link_aria_label | append: ' ' | append: item.label | capitalize }}"
            >
            <span {% if item.current %}style="text-decoration: none"{% endif %}>
              {{ item.label }}
            </span>
          </a>
        {% else  %}
          {% if not item.current %}
            <a
                href="{{ breadcrumb_href }}"
                class="usa-breadcrumb__link"
              {% if item.current %}aria-current="page"{% endif %}
              aria-label="{{ link_aria_label | append: ' ' | append: item.label | capitalize }}"
              >
          {% endif %}
          <span>{{ item.label }}</span>
          {% if not item.current %}</a>{% endif %}
        {% endif %}
      </li>
    {% endfor %}
  </ol>
</nav>
